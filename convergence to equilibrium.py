import numpy as np
from scipy import linalg

A = np.array([[0.918, 0.000, 0.040, 0.030, 0.010, 0.000, 0.000, 0.000, 0.000, 0.002, 0.000, 0.000], 
              [0.918, 0.000, 0.000, 0.040, 0.030, 0.010, 0.000, 0.000, 0.000, 0.000, 0.002, 0.000],
              [0.000, 0.918, 0.000, 0.000, 0.040, 0.030, 0.010, 0.000, 0.000, 0.000, 0.000, 0.002],
              [0.000, 0.000, 0.918, 0.000, 0.000, 0.040, 0.030, 0.010, 0.000, 0.000, 0.000, 0.002],
              [0.000, 0.000, 0.000, 0.918, 0.000, 0.000, 0.040, 0.030, 0.010, 0.000, 0.000, 0.002],
              [0.000, 0.000, 0.000, 0.000, 0.918, 0.000, 0.000, 0.040, 0.030, 0.010, 0.000, 0.002],
              [0.000, 0.000, 0.000, 0.000, 0.000, 0.918, 0.000, 0.000, 0.040, 0.030, 0.010, 0.002],
              [0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.918, 0.000, 0.000, 0.040, 0.030, 0.012],
              [0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.918, 0.000, 0.000, 0.040, 0.042],
              [0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.918, 0.000, 0.000, 0.082],
              [0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.918, 0.000, 0.082],
              [0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.918, 0.082]])
values, vectors= linalg.eig(A, left=True, right=False)
mod_values=np.abs(values)
mod_values.sort()
print("Собствени стойности - по абсолютна стойност, във възходящ ред:")
print(mod_values)


#Решението с максимален бонус 15% и неравномерни коефициенти от група 5 нататък 
v=np.array([[0.8500],
            [0.9003],
            [0.9384],
            [0.9705],
            [1.0000],
            [4.1338],
            [4.2626],
            [4.4154],
            [4.6175],
            [4.9262],
            [5.5198],
            [7.4067]])
ones=np.ones((12,1))
subtraction=ones
n=1
while subtraction.max()>0.1:
    w=np.linalg.matrix_power(A, n)
    t=np.dot(w,v)
    subtraction=np.abs(t-ones)
    n+=1
#print(subtraction.max())
print("Брой години за разлика, по-малка от 0.1:")
print(n-1)


